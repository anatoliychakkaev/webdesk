<!DOCTYPE html5>
<html>
<head>
<script type="text/javascript" language='javascript' src='/scripts/jquery-1.2.6.min.js'></script>
<script>

/*
 * jQuery BinaryClock Plugin v 0.1
 * http://tsdme.nl/jQuery.html#binaryClock
 * 
 * Author: Ezra Pool (ezra@tsdme.nl)
 */
 
 /*
 * ----------------------------------------------------------------------------
 * "THE BEER-WARE LICENSE" (Revision 42):
 * <ezra@tsdme.nl> wrote this file. As long as you retain this notice you
 * can do whatever you want with this stuff. If we meet some day, and you think
 * this stuff is worth it, you can buy me a beer in return Ezra Pool
 * ----------------------------------------------------------------------------
 */


(function($){  
  $.fn.binaryClock = function(options){
    options = $.extend({}, $.fn.binaryClock.defaults, options);
    var interval = 60000;
    
    this.each(function(){
      $this = $(this);
      
      $this.append('<div class="clock"><div class="hours"><div class="hour16"></div><div class="hour8"></div><div class="hour4"></div><div class="hour2"></div><div class="hour1"></div></div><div class="minutes"><div class="minute32"></div><div class="minute16"></div><div class="minute8"></div><div class="minute4"></div><div class="minute2"></div><div class="minute1"></div></div></div>');
      $clock = $('div.clock', $this);
      $clock.bind("kloktik", clock);
      if(options.secondHand){
        $clock.append('<div class="seconds"><div class="second32"></div><div class="second16"></div><div class="second8"></div><div class="second4"></div><div class="second2"></div><div class="second1"></div></div>').children("div.seconds").children().css("display", "inline");
        interval = 1000;
      }
      $("div.hours, div.minutes", $clock).children().css("display", "inline");
    });
    
    $('div.clock').trigger("kloktik");
    setInterval(function(){
      $('div.clock').trigger("kloktik");
    }, interval);
    
    return this;
    
    function clock(e){
      $this = $(this);
      
      var currentTime = new Date();
      var hours = currentTime.getHours();
      var minutes = currentTime.getMinutes();
      var seconds = currentTime.getSeconds();
      
      for(i=16;i>=1;i/=2){
        if((hours & i) == i){
          if(options.textBased){
            $("div.hours div.hour"+i, $this).text("1");
          }else{
            $("div.hours div.hour"+i, $this).html('<img src="'+options.onImg+'" alt="1">');
          }
        }else{
          if(options.textBased){
            $("div.hours div.hour"+i, $this).text("0");
          }else{
            $("div.hours div.hour"+i, $this).html('<img src="'+options.offImg+'" alt="0">');
          }
        }
      }
      for(i=32;i>=1;i/=2){
        if((minutes & i) == i){
          if(options.textBased){
            $("div.minutes div.minute"+i, $this).text("1");
          }else{
            $("div.minutes div.minute"+i, $this).html('<img src="'+options.onImg+'" alt="1">');
          }
        }else{
          if(options.textBased){
            $("div.minutes div.minute"+i, $this).text("0");
          }else{
            $("div.minutes div.minute"+i, $this).html('<img src="'+options.offImg+'" alt="0">');
          }
        }
      }
      if(options.secondHand){
        for(i=32;i>=1;i/=2){
          if((seconds & i) == i){
            if(options.textBased){
              $("div.seconds div.second"+i, $this).text("1");
            }else{
              $("div.seconds div.second"+i, $this).html('<img src="'+options.onImg+'" alt="1">');
            }
          }else{
            if(options.textBased){
              $("div.seconds div.second"+i, $this).text("0");
            }else{
              $("div.seconds div.second"+i, $this).html('<img src="'+options.offImg+'" alt="0">');
            }
          }
        }
      }
    }
  };
  $.fn.binaryClock.defaults = {
    onImg: "img/on.png",
    offImg: "img/off.png",
    textBased: false,
    secondHand: false
  };
})(jQuery);

// for using plugin

$(document).ready(function () {
		
		$('#clock_div').binaryClock();

});

</script>

</head>
<body>

	<div id="clock_div"></div>
	
</body>

</html>
